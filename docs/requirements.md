# ナレッジメンテナンス投稿・承認アプリ 要件定義書

## 1. システム概要

コールセンター向けFAQナレッジベース管理システム。オペレータが投稿したFAQをSVが承認するワークフローを管理する。

## 2. ユーザー役割と権限

### 2.1 オペレータ（投稿者）
- ナレッジの新規投稿
- 自分の投稿したナレッジの編集（承認前のみ）
- 承認済みナレッジの閲覧・検索

### 2.2 SV（承認者）
- 投稿されたナレッジの承認・却下
- 承認前ナレッジの編集（全投稿者分）
- 承認済みナレッジの編集・削除
- 全ナレッジの閲覧・検索
- 承認待ちナレッジの一覧確認
- 承認時に承認グループを選択（未設定可）
- 1つの承認グループに所属

### 2.3 Admin（管理者）
- ユーザー管理
- 承認グループ管理
- システム設定
- 全機能へのアクセス

## 3. ナレッジデータ構造

### 3.1 基本情報
- **記事番号**: KBA-00000-XXXXX（手動入力、既存記事修正可能）
- **タイトル**: テキスト
- **情報カテゴリ**: Enum（固定リスト）
- **承認グループ**: Enum（Admin編集可能）
- **キーワード**: テキスト
- **重要**: Boolean

### 3.2 公開設定
- **公開期限（開始）**: 日付
- **公開期限（終了）**: 日付
- ※期限管理は実装しない

### 3.3 FAQ内容
- **質問**: テキスト
- **回答**: テキスト
- **追加コメント**: テキスト
- **備考**: テキスト

## 4. 情報カテゴリ（固定）

```
'_会計・財務'
'_起動トラブル'
'_給与・年末調整'
'_減価・ﾘｰｽ/資産管理'
'_公益・医療会計'
'_工事・原価'
'_債権・債務'
'_事務所管理'
'_人事'
'_税務関連'
'_電子申告'
'_販売'
'Edge Tracker'
'MJS-Connect関連'
'インストール・MOU'
'かんたん！シリーズ'
'その他（システム以外）'
'その他MJSシステム'
'その他システム（共通）'
'ハード関連(HHD)'
'ハード関連（ソフトフェア）'
'マイナンバー'
'ワークフロー'
'一時受付用'
'運用ルール'
'顧客情報'
```

## 5. 承認グループ（Admin編集可能）

**初期設定**
```
東京CSC第一グループ
東京CSC第二グループ
長岡CSCグループ
HHD
```

## 6. 承認ワークフロー

### 6.1 新規投稿フロー
1. オペレータが新規記事番号でFAQ投稿
2. SVが内容確認・必要に応じて編集
3. SVが承認（承認グループを選択、未設定可）
4. 承認済みナレッジとして公開

### 6.2 修正投稿フロー
1. オペレータが既存記事番号でFAQ修正投稿
2. 既存記事は承認まで表示継続
3. 修正版は別途承認待ち状態で管理
4. SVが修正版を確認・編集・承認
5. 承認後、既存記事を修正版で置換

### 6.3 承認グループによる管理
- 所属承認グループのSVが優先的に承認担当
- 他の承認グループのSVでも承認可能
- 承認時にSVが承認グループを選択（未設定許容）

## 7. 検索・閲覧機能

### 7.1 検索対象項目
- タイトル
- 記事番号

### 7.2 絞り込み条件
- 重要フラグ
- 情報カテゴリ
- 承認グループ

### 7.3 表示仕様
- **優先表示**: 重要フラグ付きを優先
- **並び順**: 記事番号順
- **検索結果**: 承認済みナレッジのみ表示

## 8. システム制約・仕様

### 8.1 履歴管理
- 編集履歴は保存しない
- 通知機能は実装しない

### 8.2 期限管理
- 公開期限の自動管理は実装しない
- 期限切れ通知は実装しない

### 8.3 権限管理
- SVは1つの承認グループにのみ所属
- どのSVでも全てのFAQを承認可能

## 9. 主要画面

### 9.1 オペレータ向け
- FAQ投稿画面
- 自分の投稿一覧
- FAQ検索・閲覧画面

### 9.2 SV向け
- 承認待ち一覧
- FAQ承認・編集画面
- FAQ検索・閲覧画面

### 9.3 Admin向け
- ユーザー管理画面
- 承認グループ管理画面
- システム設定画面

## 10. 非機能要件

### 10.1 パフォーマンス
- 電話対応中の素早い検索が必要
- レスポンシブデザイン対応

### 10.2 セキュリティ
- ユーザー認証機能
- 役割ベースアクセス制御

### 10.3 運用性
- シンプルで直感的なUI/UX
- 最小限の管理作業で運用可能